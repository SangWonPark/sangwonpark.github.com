---
title: "네트워크: IP주소의 클래스와 서브네팅"
date: 2022-01-23
last_modified_at: 2022-01-23
header:
  overlay_color: "#87CEFA"
layout: single
classes: wide
categories:
  - network
tags:
  - IP Address Class
  - Subnet mask
  - Subnetting
  - OSI 7 LAYER
  - 네트워크 계층

toc: true
toc_sticky: true
toc_label: "목차"
---

_IP주소의 클래스와 하나의 네트워크를 여러 네트워크로 나누는 서브네팅에 대해 알아보자_

## 1. IP주소의 클래스

IP주소는 2진수 32자리로 되어있으며 옥탯(8자리의 2진수)씩 끊어 10진수로 표기합니다.

IP주소는 네트워크 부분과 호스트 부분이 있다. 클래스는 네트워크 부분을 여러 개로 나눈것며 A, B, C, D, E 총 5개의 클래스가 있습니다.

### 1-1. 5개의 클래스

| 클래스     | 첫 째 옥탯   | 최상위 비트  | 네트워크 범위                 | 가질수 있는 호스트 수 | 사이더 블록 | 기타       |
|:----------|:------------|:------    |:-------------------------|:------------     |:---------|:---------:|
| Class A   | 1~126     |0          | 1.0.0.0 ~ 126.0.0.0        | 16,777,216       | /8       |           |
|----
| Class B   | 128~191   |10         | 128.0.0.0 ~ 191.255.0.0    | 65,534           | /16      |           |
|----
| Class C   | 192~223   |110        | 192.0.0.0 ~ 223.255.255.0  | 254              | /24      |           |
|----
| Class D   | 224~239   |1110       | 224.0.0.0 - 239.255.255.255| NA               | NA       | 멀티캐스트용 주소 |
|----
| Class E   | 240~255   |1111       | 240.0.0.0 - 255.255.255.255| NA               | NA       | 연구용 및 예약된 주소 |
|=====
{: rules="groups"}

* **Class A** 를 보면 0과 127 수가 없는 것을 확인 할 수 있습니다. 0와 127로 시작하는 IP는 특별한 용도가 있기 때문에 제외됩니다. 0과 127이외에도 특수한 IP가 존재합니다.
* **네트워크 IP**는 호스트 부분을 모두 0으로 표기합니다. 
* **사이더 블록**(CIDR)은 숫자만큼 서브넷 마스크의 맨 앞부터 1로 채우는 것을 말합니다. 서브네팅은Class A(/8)의 경우 1111 1111.0000 0000.0000 0000.0000 0000
* **게이트웨이**의 IP 주소는 보통 속한 네트워크의 첫번째 수를 할당 받습니다.(예: 192.168.1.0 네트워크에서의 게이트웨이 IP는 192.168.1.1)

## 2. 서브네팅(Subnetting)

서브네팅은 네트워크 구성에 있어 중요합니다. 
예를들어 Class B의 네트워크 주소를 할당받아 65,534대의 호스트를 가진다면 브로드캐스트 도메인이 커져 정상적인 네트워크 통신이 이루어지지 않을 것입니다.

이때 서브네팅을 통해 Class B의 네트워크를 작은 여러개의 네트워크로 쪼개어 브로드캐스트 도메인을 작게 여러 조각으로 나누면 됩니다.

네트워크를 여러개의 작은 네트워크로 나누기 위해 먼저 서브넷 마스크에 대해 알아야 합니다.

### 2-1. 서브넷 마스크

먼저 Class A, B, C에도 기본 서브넷 마스크가 있습니다.

| 클래스   | 서브넷 마스크     |서브넷 마스크(bit)                           |
|:-------|:---------------|:-----------------------------------------|
| Class A| 255.0.0.0      |= 1111 1111.0000 0000.0000 0000.0000 0000 |
| Class B| 255.255.0.0    |= 1111 1111.1111 1111.0000 0000.0000 0000 |
| Class C| 255.255.255.0  |= 1111 1111.1111 1111.1111 1111.0000 0000 |
|=====
{: rules="groups"}

우리는 통신을 할 때 IP주소와 서브넷 마스크를 갖고 네트워크와 호스트 부분을 구분합니다. 
계산은 IP주소와 서브넷 마스크를 Logical AND연산을 수행해 남아있는 부분이 네트워크 부분이고 0이 된 부분은 호스트 부분입니다.

192.168.13.23의 서브넷 마스크가 255.255.255.0일 때 Logical AND연산을 해보면
**Logical AND** 연산은 같은자리의 비트끼리의 연산이며 둘 다 1일 경우 결과는 1 서로 다르거나 둘 다 0일 경우는 0이 됩니다.

1100 0000.1010 1000.0000 1101.0001 0111 = 192.168.13.23   => IP 주소  
1111 1111.1111 1111.1111 1111.0000 0000 = 255.255.255.0   => 서브넷 마스크  
1100 0000.1010 1000.0000 1101.0000 0000 = 192.168.13.0    => 서브넷 네트워크

연산을 보면 알 수 있듯이 서브넷 마스크가 1인 부분의 IP 주소가 네트워크 부분이 됩니다. 우리는 이 서브넷 마스크를 활용해 **서브네팅**을 합니다.

* 서브넷 마스크의 **1은 반드시 연속적이어야 합니다.** 1과 1 사이에 0이 들어가서는 안됩니다.

### 2-2. 서브네팅

앞에서 서브넷 마스크의 1인 부분이 바로 네트워크 부분인 것을 확인했습니다.  
네트워크 주소를 192.168.13.0 서브넷 마스크 255.255.255.0를 받았고, 이를 이용해서 PC가 23대인 네트워크를 5대 이상 만들어야 한다면 
어떻게 서브넷 마스크를 구성해 서브네팅을 해야할 까요?

먼저 우리가 활용할 수 있는 IP는 192.168.13.1~192.168.13.254까지만 활용 가능합니다.  
(192.168.13.0은 네트워크 주소, 192.168.13.255는 브로드캐스트 주소이기 때문에 제외됩니다.)  
만일 호스트 부분이 두 자리일 경우의 하나의 서브넷에 쓸 수 있는 호스트 수는 2대가 됩니다.(2^2 - 2 = 2)  
세 자리일 경우는 6대(2^3 - 2 = 6), 네 자리일 경우는 14대(2^4 - 2 = 14), 다섯 자리일 경우는 30대(2^5 - 2 = 30)로 위 조건을 만족합니다.

호스트 자릿수가 5개이면 3개의 자릿수가 남게 되네요. 3개의 자릿수로 총 8개의 서브넷을 만들 수 있습니다. 이 때의 하나의 서브넷당 30대의 호스트를 가질 수 있구요.

다시 문제로 돌아와 네트워크 주소를 192.168.13.0 서브넷 마스크 255.255.255.0를 받았고, 이를 이용해서 PC가 23대인 네트워크를 5대 이상 만들어야 한다면  
우리는 서브넷 마스크를 255.255.255.224로 구성해 조건에 맞는 서브네팅을 할 수 있습니다.